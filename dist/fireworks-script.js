(()=>{const s="focus-forge-fireworks-canvas";if(document.getElementById(s))return;const t=document.createElement("canvas");t.id=s,t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100vw",t.style.height="100vh",t.style.zIndex="2147483646",t.style.pointerEvents="none",document.body.appendChild(t);const n=t.getContext("2d");if(!n)return;t.width=window.innerWidth,t.height=window.innerHeight;let o=[],c;const a=(e,i)=>Math.random()*(i-e)+e;function d(e,i){const y=Math.PI*2/100;for(let l=0;l<100;l++)o.push({x:e,y:i,angle:y*l,speed:a(1,10),friction:.95,gravity:1,hue:a(0,360),brightness:a(50,80),alpha:1,decay:a(.015,.03)})}function u(){o.forEach((e,i)=>{e.speed*=e.friction,e.x+=Math.cos(e.angle)*e.speed,e.y+=Math.sin(e.angle)*e.speed+e.gravity,e.alpha-=e.decay,e.alpha<=e.decay&&o.splice(i,1)})}function g(){n&&(n.globalCompositeOperation="destination-out",n.fillStyle="rgba(0, 0, 0, 0.5)",n.fillRect(0,0,t.width,t.height),n.globalCompositeOperation="lighter",o.forEach(e=>{n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(e.x-Math.cos(e.angle)*e.speed,e.y-Math.sin(e.angle)*e.speed),n.closePath(),n.strokeStyle=`hsla(${e.hue}, 100%, ${e.brightness}%, ${e.alpha})`,n.stroke()}))}function r(){c=requestAnimationFrame(r),u(),g()}let h=0;const f=5,m=setInterval(()=>{d(a(t.width*.2,t.width*.8),a(t.height*.2,t.height*.8)),h++,h>=f&&clearInterval(m)},400);setTimeout(()=>{cancelAnimationFrame(c),t.remove()},4e3),r()})();
